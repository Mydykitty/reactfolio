===== README.md =====
# ä¸ªäººç®€å†ç½‘ç«™ - React + TypeScript + TailwindCSS

![é¡¹ç›®æˆªå›¾](./screenshot.png)

<div align="center">
  
  [![Vercel](https://img.shields.io/badge/åœ¨çº¿é¢„è§ˆ-000000?style=for-the-badge&logo=vercel&logoColor=white)](https://reactfolio-sooty.vercel.app/)
  [![GitHub](https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white)](https://github.com/Mydykitty/reactfolio)

</div>

## âœ¨ åœ¨çº¿ä½“éªŒ

ğŸ‘‰ **[ç‚¹å‡»æŸ¥çœ‹åœ¨çº¿ Demo](https://reactfolio-sooty.vercel.app/)**

## ğŸ¯ é¡¹ç›®äº®ç‚¹

- âš¡ **Vite + React** - æé€Ÿå¼€å‘ä½“éªŒ
- ğŸ“˜ **TypeScript** - ç±»å‹å®‰å…¨ï¼Œå‡å°‘bug
- ğŸŒ“ **æ·±è‰²æ¨¡å¼** - æ”¯æŒç³»ç»Ÿä¸»é¢˜è·Ÿéšï¼Œæ‰‹åŠ¨åˆ‡æ¢
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ‰‹æœº/å¹³æ¿/æ¡Œé¢å®Œç¾é€‚é…
- ğŸ¨ **TailwindCSS** - åŸå­åŒ–CSSï¼Œå¼€å‘æ•ˆç‡++

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: TailwindCSS
- **æ„å»ºå·¥å…·**: Vite
- **ä»£ç è§„èŒƒ**: ESLint + Prettier

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Mydykitty/reactfolio.git

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘ç¯å¢ƒ
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# æœ¬åœ°å¯å‚è€ƒå‘½ä»¤
Cmd + Shift + P â†’ TypeScript: Restart TS Server

npm install react-intersection-observer

npm install -D @vitejs/plugin-vue tailwindcss postcss autoprefixer

npx tailwindcss init

npm install framer-motion

npm install @supabase/supabase-js

npm install zustand

Settings/Developer settings/ReactFolio

Homepage URLï¼š
  æœ¬åœ°éƒ¨ç½²ï¼šhttp://localhost:5173
  çº¿ä¸Šéƒ¨ç½²ï¼šhttps://reactfolio-sooty.vercel.app/

```

## ğŸš§ å¼€å‘è®¡åˆ’

åŸºç¡€ç®€å†å±•ç¤º

æ·±è‰²æ¨¡å¼åˆ‡æ¢

æ»šåŠ¨åŠ¨ç”»æ•ˆæœ

åšå®¢æ¨¡å—

å¤šè¯­è¨€æ”¯æŒ

å•å…ƒæµ‹è¯•


===== eslint.config.js =====
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import tseslint from 'typescript-eslint'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      js.configs.recommended,
      tseslint.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
  },
])


===== postcss.config.js =====
// postcss.config.js
export default {
  plugins: {
    "@tailwindcss/postcss": {},
    autoprefixer: {},
  },
};


===== src/App.tsx =====
import React, { useState, useEffect } from "react";
import Header from "./components/Header";
import About from "./components/About";
import Skills from "./components/Skills";
import Projects from "./components/Projects";
import Contact from "./components/Contact";
import BackToTop from "./components/BackToTop";
import ScrollReveal from "./components/ScrollReveal";
import Guestbook from "./components/Guestbook";
import Button from "./components/common/Button";
import GitHubLogin from "./components/GitHubLogin";
import type { Project, ContactInfo, AboutInfo } from "./types";
import avatarImg from "./assets/avatar.png";
import { useAuthStore } from "./store/authStore";
import { useLikeStore } from "./store/likeStore"; // æ–°å¢ï¼šå¯¼å…¥ç‚¹èµ store
import { supabase } from "./lib/supabase";

// é¡¹ç›®æ•°æ®
const projects: Project[] = [
  {
    name: "ä¸ªäººç®€å†ç½‘é¡µ",
    description: "ç”¨React + TypeScriptåˆ¶ä½œçš„ä¸ªäººç®€å†ç½‘é¡µï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼ã€å“åº”å¼è®¾è®¡",
    link: "#",
    category: "react",
    tags: ["React", "TypeScript", "Tailwind"],
  },
  {
    name: "å¾…åŠæ¸…å•åº”ç”¨",
    description: "å…¨æ ˆå¾…åŠåº”ç”¨ï¼ŒReact + Node.js + MongoDB",
    link: "#",
    category: "fullstack",
    tags: ["React", "Node.js", "MongoDB"],
  },
  {
    name: "å¤©æ°”æŸ¥è¯¢å°ç¨‹åº",
    description: "å®æ—¶å¤©æ°”æŸ¥è¯¢ï¼Œè°ƒç”¨ç¬¬ä¸‰æ–¹API",
    link: "#",
    category: "vanilla",
    tags: ["JavaScript", "API"],
  },
];

const contact: ContactInfo = {
  email: "yourname@example.com",
  github: "https://github.com/yourname",
  linkedin: "https://linkedin.com/in/yourname",
};

const about: AboutInfo = {
  bio: "å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œçƒ­çˆ± React å’Œ TypeScriptï¼Œå–œæ¬¢åˆ¶ä½œç®€æ´ç¾è§‚çš„ç½‘é¡µã€‚",
  avatar: avatarImg,
};

const App: React.FC = () => {
  const [darkMode, setDarkMode] = useState(false);

  // è·å– store æ–¹æ³•
  const initialize = useAuthStore((state) => state.initialize);
  const user = useAuthStore((state) => state.user);
  const fetchUserLikes = useLikeStore((state) => state.fetchUserLikes);

  // åˆå§‹åŒ–ä¸»é¢˜
  useEffect(() => {
    const savedTheme = localStorage.getItem("theme");
    const isDark = savedTheme === "dark";
    setDarkMode(isDark);
    document.documentElement.classList.toggle("dark", isDark);
  }, []);

  // åˆå§‹åŒ–è®¤è¯å’Œç‚¹èµæ•°æ®
  useEffect(() => {
    // åˆå§‹åŒ–è®¤è¯
    initialize();

    // è®¾ç½®è®¤è¯çŠ¶æ€ç›‘å¬
    const {
      data: { subscription },
    } = supabase.auth.onAuthStateChange((_event, session) => {
      useAuthStore.setState({ user: session?.user || null });
    });

    return () => {
      subscription.unsubscribe();
    };
  }, [initialize]);

  // å½“ç”¨æˆ·ç™»å½•çŠ¶æ€å˜åŒ–æ—¶ï¼Œè·å–ç”¨æˆ·çš„ç‚¹èµæ•°æ®
  useEffect(() => {
    if (user) {
      fetchUserLikes();
    }
  }, [user, fetchUserLikes]);

  // åˆ‡æ¢ä¸»é¢˜
  const toggleTheme = () => {
    setDarkMode((prev) => {
      const newTheme = !prev;
      localStorage.setItem("theme", newTheme ? "dark" : "light");
      document.documentElement.classList.toggle("dark", newTheme);
      return newTheme;
    });
  };

  return (
      <div className="app max-w-3xl mx-auto p-5 bg-white dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen transition-colors duration-300">
        {/* é¡¶éƒ¨å·¥å…·æ  */}
        <div className="flex justify-end gap-2 mb-4">
          <Button onClick={toggleTheme}>
            {darkMode ? "â˜€ï¸ äº®è‰²æ¨¡å¼" : "ğŸŒ™ æš—é»‘æ¨¡å¼"}
          </Button>
          <GitHubLogin />
        </div>

        {/* ä¸»è¦å†…å®¹åŒºåŸŸ */}
        <Header name="å¼ ä¸‰" title="å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ" />

        <ScrollReveal>
          <About about={about} />
        </ScrollReveal>

        <ScrollReveal>
          <Skills />
        </ScrollReveal>

        <ScrollReveal>
          <Projects projects={projects} />
        </ScrollReveal>

        <ScrollReveal>
          <Contact contact={contact} />
        </ScrollReveal>

        <ScrollReveal>
          <Guestbook />
        </ScrollReveal>

        <BackToTop />
      </div>
  );
};

export default App;

===== src/components/About.tsx =====
import React from "react";
import type { AboutInfo } from "../types";

interface AboutProps {
  about: AboutInfo;
}

const About: React.FC<AboutProps> = ({ about }) => {
  return (
    <section className="py-8 px-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-300">
      <div className="flex flex-col md:flex-row items-center gap-6">
        {about.avatar && (
          <img
            src={about.avatar}
            alt="å¤´åƒ"
            className="w-32 h-32 rounded-full object-cover border-4 border-gray-200 dark:border-gray-600"
          />
        )}
        <p className="text-lg text-gray-700 dark:text-gray-300 leading-relaxed">
          {about.bio}
        </p>
      </div>
    </section>
  );
};

export default About;


===== src/components/BackToTop.tsx =====
import { useState, useEffect } from "react";
import { motion, AnimatePresence } from "framer-motion";

const BackToTop = () => {
  const [show, setShow] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      // æ»šåŠ¨è¶…è¿‡400pxæ˜¾ç¤ºæŒ‰é’®
      setShow(window.scrollY > 400);
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  const scrollToTop = () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth", // å¹³æ»‘æ»šåŠ¨
    });
  };

  return (
    <AnimatePresence>
      {show && (
        <motion.button
          initial={{ opacity: 0, scale: 0.5 }}
          animate={{ opacity: 1, scale: 1 }}
          exit={{ opacity: 0, scale: 0.5 }}
          onClick={scrollToTop}
          className="
            fixed bottom-6 right-6
            p-3 rounded-full
            bg-blue-500 hover:bg-blue-600
            dark:bg-blue-600 dark:hover:bg-blue-700
            text-white shadow-lg
            transition-colors duration-300
            z-50
          "
          aria-label="å›åˆ°é¡¶éƒ¨"
        >
          <svg
            className="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M5 10l7-7m0 0l7 7m-7-7v18"
            />
          </svg>
        </motion.button>
      )}
    </AnimatePresence>
  );
};

export default BackToTop;


===== src/components/Contact.tsx =====
import React from "react";
import type { ContactInfo } from "../types";

interface ContactProps {
  contact: ContactInfo;
}

const Contact: React.FC<ContactProps> = ({ contact }) => {
  return (
    <section className="py-8 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-300">
      <h2 className="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center">
        è”ç³»æˆ‘
      </h2>
      <div className="space-y-3">
        <div className="flex items-center gap-3">
          <span className="text-gray-700 dark:text-gray-300">ğŸ“§</span>
          <span className="text-gray-600 dark:text-gray-400">
            {contact.email}
          </span>
        </div>
        <div className="flex items-center gap-3">
          <span className="text-gray-700 dark:text-gray-300">ğŸ’»</span>
          <a
            href={contact.github}
            className="text-blue-600 dark:text-blue-400 hover:underline"
          >
            GitHub
          </a>
        </div>
        <div className="flex items-center gap-3">
          <span className="text-gray-700 dark:text-gray-300">ğŸ‘”</span>
          <a
            href={contact.linkedin}
            className="text-blue-600 dark:text-blue-400 hover:underline"
          >
            LinkedIn
          </a>
        </div>
      </div>
    </section>
  );
};

export default Contact;


===== src/components/GitHubLogin.tsx =====
import React, { useEffect } from "react";
import { useAuthStore } from "../store/authStore";

const GitHubLogin: React.FC = () => {
  const {
    user,
    isLoading,
    error,
    signInWithGitHub,
    signOut,
    clearError,
    initialize,
  } = useAuthStore();

  // åˆå§‹åŒ–è®¤è¯çŠ¶æ€
  useEffect(() => {
    initialize();
  }, []);

  // åŠ è½½çŠ¶æ€
  if (isLoading) {
    return (
      <div className="flex items-center justify-center p-4">
        <div className="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"></div>
        <span className="ml-2 text-gray-600 dark:text-gray-400">åŠ è½½ä¸­...</span>
      </div>
    );
  }

  // å·²ç™»å½•çŠ¶æ€
  if (user) {
    return (
      <div className="flex items-center gap-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow">
        <img
          src={user.user_metadata.avatar_url}
          alt={user.user_metadata.user_name}
          className="w-10 h-10 rounded-full border-2 border-blue-500"
        />
        <div className="flex-1">
          <p className="font-medium text-gray-900 dark:text-white">
            {user.user_metadata.user_name}
          </p>
          <p className="text-sm text-gray-500 dark:text-gray-400">
            {user.email}
          </p>
        </div>
        <button
          onClick={signOut}
          className="px-4 py-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors"
        >
          é€€å‡º
        </button>
      </div>
    );
  }

  // æœªç™»å½•çŠ¶æ€
  return (
    <div className="p-4 bg-white dark:bg-gray-800 rounded-lg shadow">
      {error && (
        <div className="mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg flex justify-between items-center">
          <span>{error}</span>
          <button
            onClick={clearError}
            className="text-red-500 hover:text-red-700"
          >
            âœ•
          </button>
        </div>
      )}

      <button
        onClick={signInWithGitHub}
        disabled={isLoading}
        className="w-full flex items-center justify-center gap-3 px-4 py-3 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
      >
        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path
            fillRule="evenodd"
            d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
            clipRule="evenodd"
          />
        </svg>
        <span className="font-medium">ä½¿ç”¨ GitHub ç™»å½•</span>
      </button>

      <p className="mt-3 text-xs text-center text-gray-500 dark:text-gray-400">
        ç™»å½•åå¯ä»¥ç•™è¨€ã€ç‚¹èµ âœ¨
      </p>
    </div>
  );
};

export default GitHubLogin;


===== src/components/Guestbook.tsx =====
import { useState, useEffect, useCallback } from "react";
import { supabase } from "../lib/supabase";
import { useAuthStore } from "../store/authStore";
import { useLikeStore } from "../store/likeStore";
import type { Message, MessageWithLike } from "../types";

const PAGE_SIZE = 10; // æ¯é¡µæ˜¾ç¤º10æ¡

const Guestbook = () => {
  const [messages, setMessages] = useState<MessageWithLike[]>([]);
  const [content, setContent] = useState("");
  const [loading, setLoading] = useState(false);
  const [page, setPage] = useState(1);
  const [hasMore, setHasMore] = useState(true);
  const [total, setTotal] = useState(0);

  const user = useAuthStore((state) => state.user);
  const { likedMessages, fetchUserLikes, toggleLike } = useLikeStore();

  // è·å–æ€»ç•™è¨€æ•°
  const fetchTotal = async () => {
    const { count } = await supabase
      .from("messages")
      .select("*", { count: "exact", head: true });
    setTotal(count || 0);
  };

  // è¯»å–ç•™è¨€ï¼ˆå¸¦åˆ†é¡µï¼‰
  const fetchMessages = useCallback(
    async (pageNum: number) => {
      setLoading(true);

      const from = (pageNum - 1) * PAGE_SIZE;
      const to = from + PAGE_SIZE - 1;

      const { data, error } = await supabase
        .from("messages")
        .select("*")
        .order("created_at", { ascending: false })
        .range(from, to);

      if (error) {
        console.error("Error fetching messages:", error);
        return;
      }

      if (data) {
        // æ ‡è®°å½“å‰ç”¨æˆ·ç‚¹èµçš„ç•™è¨€
        const messagesWithLike = data.map((msg) => ({
          ...msg,
          liked_by_user: likedMessages.has(msg.id),
        }));

        if (pageNum === 1) {
          setMessages(messagesWithLike);
        } else {
          setMessages((prev) => [...prev, ...messagesWithLike]);
        }

        setHasMore(data.length === PAGE_SIZE);
      }

      setLoading(false);
    },
    [likedMessages],
  );

  // åˆå§‹åŒ–
  useEffect(() => {
    fetchTotal();
    if (user) {
      fetchUserLikes();
    }
  }, [user]);

  // å½“ likedMessages å˜åŒ–æ—¶ï¼Œæ›´æ–° messages çš„ç‚¹èµçŠ¶æ€
  useEffect(() => {
    setMessages((prev) =>
      prev.map((msg) => ({
        ...msg,
        liked_by_user: likedMessages.has(msg.id),
      })),
    );
  }, [likedMessages]);

  // é¡µé¢å˜åŒ–æ—¶åŠ è½½æ•°æ®
  useEffect(() => {
    fetchMessages(page);
  }, [page, fetchMessages]);

  // å‘å¸ƒç•™è¨€
  const submitMessage = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!user) {
      alert("è¯·å…ˆç™»å½•åå†ç•™è¨€");
      return;
    }

    if (!content.trim()) return;

    setLoading(true);
    const { error, data } = await supabase
      .from("messages")
      .insert([
        {
          name: user.user_metadata?.user_name || "åŒ¿å",
          content,
          user_id: user.id,
          avatar_url: user.user_metadata?.avatar_url,
          likes_count: 0,
        },
      ])
      .select()
      .single();

    if (!error && data) {
      setContent("");
      // é‡æ–°åŠ è½½ç¬¬ä¸€é¡µ
      setPage(1);
      fetchMessages(1);
      fetchTotal();
    }
    setLoading(false);
  };

  // å¤„ç†ç‚¹èµ
  const handleLike = async (messageId: number) => {
    await toggleLike(messageId);

    // æ›´æ–°æœ¬åœ° messages çš„ç‚¹èµæ•°
    setMessages((prev) =>
      prev.map((msg) => {
        if (msg.id === messageId) {
          return {
            ...msg,
            likes_count: (msg.likes_count || 0) + (msg.liked_by_user ? -1 : 1),
            liked_by_user: !msg.liked_by_user,
          };
        }
        return msg;
      }),
    );
  };

  // åŠ è½½æ›´å¤š
  const loadMore = () => {
    if (hasMore && !loading) {
      setPage((prev) => prev + 1);
    }
  };

  return (
    <section className="py-8 px-6 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-300">
      <div className="flex justify-between items-center mb-6">
        <h2 className="text-2xl font-bold text-gray-900 dark:text-white">
          ğŸ’¬ è®¿å®¢ç•™è¨€æ¿
        </h2>
        <span className="text-sm text-gray-500 dark:text-gray-400">
          å…± {total} æ¡ç•™è¨€
        </span>
      </div>

      {/* ç•™è¨€è¡¨å• - åªæœ‰ç™»å½•æ‰æ˜¾ç¤º */}
      {user ? (
        <form onSubmit={submitMessage} className="mb-8">
          <div className="flex gap-3">
            <img
              src={user.user_metadata?.avatar_url}
              alt={user.user_metadata?.user_name}
              className="w-10 h-10 rounded-full flex-shrink-0"
            />
            <div className="flex-1">
              <textarea
                value={content}
                onChange={(e) => setContent(e.target.value)}
                placeholder="è¯´ç‚¹ä»€ä¹ˆ..."
                rows={2}
                className="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                required
              />
              <div className="flex justify-end mt-2">
                <button
                  type="submit"
                  disabled={loading}
                  className="px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  {loading ? "å‘å¸ƒä¸­..." : "å‘å¸ƒç•™è¨€"}
                </button>
              </div>
            </div>
          </div>
        </form>
      ) : (
        <div className="mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-center rounded-lg">
          è¯·å…ˆç™»å½•åå†ç•™è¨€
        </div>
      )}

      {/* ç•™è¨€åˆ—è¡¨ */}
      <div className="space-y-4">
        {messages.map((msg) => (
          <div
            key={msg.id}
            className="flex gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600"
          >
            <img
              src={msg.avatar_url || `https://github.com/${msg.name}.png`}
              alt={msg.name}
              className="w-10 h-10 rounded-full flex-shrink-0"
              onError={(e) => {
                e.currentTarget.src = `https://ui-avatars.com/api/?name=${msg.name}&background=random`;
              }}
            />
            <div className="flex-1 min-w-0">
              <div className="flex justify-between items-start gap-2">
                <div className="flex items-center gap-2">
                  <span className="font-medium text-blue-600 dark:text-blue-400">
                    {msg.name}
                  </span>
                  {msg.user_id === user?.id && (
                    <span className="text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full">
                      æˆ‘
                    </span>
                  )}
                </div>
                <span className="text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap">
                  {new Date(msg.created_at).toLocaleString("zh-CN")}
                </span>
              </div>
              <p className="mt-1 text-gray-700 dark:text-gray-300 break-words">
                {msg.content}
              </p>

              {/* ç‚¹èµæŒ‰é’® */}
              <div className="mt-2 flex items-center gap-4">
                <button
                  onClick={() => handleLike(msg.id)}
                  disabled={!user}
                  className={`flex items-center gap-1 text-sm transition-colors ${
                    !user
                      ? "opacity-50 cursor-not-allowed"
                      : "hover:text-blue-500"
                  } ${
                    msg.liked_by_user
                      ? "text-blue-500"
                      : "text-gray-500 dark:text-gray-400"
                  }`}
                >
                  <svg
                    className={`w-5 h-5 ${msg.liked_by_user ? "fill-current" : ""}`}
                    fill={msg.liked_by_user ? "currentColor" : "none"}
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth={2}
                      d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                    />
                  </svg>
                  <span>{msg.likes_count || 0}</span>
                </button>
              </div>
            </div>
          </div>
        ))}

        {/* åŠ è½½æ›´å¤š */}
        {hasMore && (
          <div className="text-center pt-4">
            <button
              onClick={loadMore}
              disabled={loading}
              className="px-6 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors duration-300 disabled:opacity-50"
            >
              {loading ? "åŠ è½½ä¸­..." : "åŠ è½½æ›´å¤šç•™è¨€"}
            </button>
          </div>
        )}

        {messages.length === 0 && !loading && (
          <p className="text-center text-gray-500 dark:text-gray-400 py-8">
            è¿˜æ²¡æœ‰ç•™è¨€ï¼Œæ¥å½“ç¬¬ä¸€ä¸ªè®¿å®¢å§ï¼ âœ¨
          </p>
        )}

        {loading && page > 1 && (
          <div className="text-center py-4">
            <div className="inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"></div>
          </div>
        )}
      </div>
    </section>
  );
};

export default Guestbook;


===== src/components/Header.tsx =====
import React from "react";
import Typewriter from "./Typewriter";

interface HeaderProps {
  name: string;
  title: string;
}

const Header: React.FC<HeaderProps> = ({ name, title }) => {
  return (
    <header className="text-center py-8 bg-white dark:bg-gray-900 transition-colors duration-300">
      <h1 className="text-4xl font-bold text-gray-900 dark:text-white mb-2">
        {name}
      </h1>
      <h3 className="text-xl text-gray-600 dark:text-gray-300">
        <Typewriter
          texts={[title, "React çˆ±å¥½è€…", "TypeScript ç©å®¶", "UI è®¾è®¡æ§"]}
        />
      </h3>
    </header>
  );
};

export default Header;


===== src/components/Projects.tsx =====
import React, { useState } from "react";
import type { Project } from "../types";

interface ProjectsProps {
  projects: Project[];
}

const Projects: React.FC<ProjectsProps> = ({ projects }) => {
  const [filter, setFilter] = useState("all");

  // è·å–æ‰€æœ‰åˆ†ç±»ï¼ˆå»é‡ï¼‰
  const categories = [
    "all",
    ...new Set(
      projects
        .map((p) => p.category)
        .filter((c): c is string => c !== undefined), // åªä¿ç•™ string
    ),
  ];

  // ç­›é€‰é¡¹ç›®
  const filteredProjects =
    filter === "all" ? projects : projects.filter((p) => p.category === filter);

  return (
    <section className="py-8 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-300">
      <h2 className="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center">
        é¡¹ç›®
      </h2>

      {/* ç­›é€‰æŒ‰é’®ç»„ */}
      <div className="flex flex-wrap justify-center gap-2 mb-6">
        {categories.map((category) => (
          <button
            key={category}
            onClick={() => setFilter(category)}
            className={`
              px-4 py-2 rounded-full text-sm font-medium
              transition-all duration-300
              ${
                filter === category
                  ? "bg-blue-500 text-white shadow-md"
                  : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"
              }
            `}
          >
            {category === "all" ? "å…¨éƒ¨" : category}
          </button>
        ))}
      </div>

      {/* é¡¹ç›®åˆ—è¡¨ */}
      <div className="space-y-4">
        {filteredProjects.map((project, index) => (
          <div
            key={index}
            className="p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:shadow-lg transition-shadow"
          >
            <h3 className="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
              {project.name}
            </h3>
            <p className="text-gray-600 dark:text-gray-400 mb-2">
              {project.description}
            </p>

            {/* æ ‡ç­¾äº‘ */}
            {project.tags && (
              <div className="flex flex-wrap gap-2 mb-3">
                {project.tags.map((tag) => (
                  <span
                    key={tag}
                    className="px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded"
                  >
                    {tag}
                  </span>
                ))}
              </div>
            )}

            {project.link && project.link !== "#" && (
              <a
                href={project.link}
                className="text-blue-600 dark:text-blue-400 hover:underline"
              >
                æŸ¥çœ‹é¡¹ç›® â†’
              </a>
            )}
          </div>
        ))}
      </div>

      {/* ç©ºçŠ¶æ€ */}
      {filteredProjects.length === 0 && (
        <p className="text-center text-gray-500 dark:text-gray-400 py-8">
          æš‚æ— è¯¥åˆ†ç±»çš„é¡¹ç›®
        </p>
      )}
    </section>
  );
};

export default Projects;


===== src/components/ScrollReveal.tsx =====
import { useInView } from "react-intersection-observer";
import type { FC, ReactNode } from "react";

interface ScrollRevealProps {
  children: ReactNode;
}

const ScrollReveal: FC<ScrollRevealProps> = ({ children }) => {
  const { ref, inView } = useInView({
    triggerOnce: true, // åªè§¦å‘ä¸€æ¬¡
    threshold: 0.2, // 20% å‡ºç°åœ¨è§†å£æ‰è§¦å‘
  });

  return (
    <div ref={ref} className={`scroll-section ${inView ? "show" : ""}`}>
      {children}
    </div>
  );
};

export default ScrollReveal;


===== src/components/Skills.tsx =====
import type { FC } from "react";
import { useEffect, useState } from "react";
import { skills } from "../data/skills";
import type { Skill } from "../data/skills";
import { useInView } from "react-intersection-observer";

const Skills: FC = () => {
  // ç›‘å¬æ•´ä¸ª Skills åŒºå—æ˜¯å¦è¿›å…¥è§†å£
  const { ref, inView } = useInView({ triggerOnce: true });

  // åˆå§‹åŒ–æ¯ä¸ªæŠ€èƒ½ç­‰çº§ä¸º 0
  const [animatedLevels, setAnimatedLevels] = useState<Skill[]>(
    skills.map((s) => ({ ...s, level: 0 })),
  );

  // ç»„ä»¶æŒ‚è½½åï¼Œå¦‚æœ inView ä¸º trueï¼Œä¾æ¬¡åŠ¨ç”»æ¯ä¸ªæŠ€èƒ½æ¡
  useEffect(() => {
    if (!inView) return;

    skills.forEach((skill, idx) => {
      setTimeout(() => {
        setAnimatedLevels((prev) => {
          const copy = [...prev];
          copy[idx] = { ...copy[idx], level: skill.level };
          return copy;
        });
      }, idx * 200); // æ¯ä¸ªæŠ€èƒ½æ¡å»¶è¿Ÿ 200ms åŠ¨ç”»
    });
  }, [inView]);

  return (
    <section
      ref={ref}
      className="max-w-4xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg transition-colors duration-300"
    >
      <h2 className="text-2xl font-bold mb-4">Skills</h2>
      <div className="space-y-4">
        {animatedLevels.map((skill) => (
          <div key={skill.name}>
            <div className="flex justify-between mb-1">
              <span className="font-medium">{skill.name}</span>
              <span className="text-sm">{skill.level}%</span>
            </div>
            <div className="w-full bg-gray-200 h-4 rounded overflow-hidden shadow-inner">
              <div
                className="bg-blue-500 h-4 rounded transition-all duration-1000 ease-out shadow-md"
                style={{ width: `${skill.level}%` }}
              ></div>
            </div>
          </div>
        ))}
      </div>
    </section>
  );
};

export default Skills;


===== src/components/Typewriter.tsx =====
import { useState, useEffect } from "react";

interface TypewriterProps {
  texts: string[]; // è¦è½®æ¢çš„æ–‡å­—æ•°ç»„
  delay?: number; // æ‰“å­—é€Ÿåº¦
  pause?: number; // æš‚åœæ—¶é—´
}

const Typewriter: React.FC<TypewriterProps> = ({
  texts,
  delay = 100,
  pause = 2000,
}) => {
  const [currentTextIndex, setCurrentTextIndex] = useState(0);
  const [currentText, setCurrentText] = useState("");
  const [isDeleting, setIsDeleting] = useState(false);

  useEffect(() => {
    const timer = setTimeout(
      () => {
        const fullText = texts[currentTextIndex];

        if (!isDeleting) {
          // æ‰“å­—
          if (currentText.length < fullText.length) {
            setCurrentText(fullText.slice(0, currentText.length + 1));
          } else {
            // æ‰“å®Œäº†ï¼Œç­‰å¾…åå¼€å§‹åˆ é™¤
            setTimeout(() => setIsDeleting(true), pause);
          }
        } else {
          // åˆ é™¤
          if (currentText.length > 0) {
            setCurrentText(currentText.slice(0, -1));
          } else {
            // åˆ å®Œäº†ï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè¯
            setIsDeleting(false);
            setCurrentTextIndex((prev) => (prev + 1) % texts.length);
          }
        }
      },
      isDeleting ? delay / 2 : delay,
    );

    return () => clearTimeout(timer);
  }, [currentText, currentTextIndex, isDeleting, texts, delay, pause]);

  return (
    <span className="inline-block min-w-[200px] text-blue-600 dark:text-blue-400">
      {currentText}
      <span className="animate-pulse">|</span>
    </span>
  );
};

export default Typewriter;


===== src/components/common/Button.tsx =====
import type { FC, ButtonHTMLAttributes } from "react";

const Button: FC<ButtonHTMLAttributes<HTMLButtonElement>> = (props) => (
  <button
    {...props}
    className="rounded border border-transparent px-4 py-2 font-medium cursor-pointer transition-colors duration-300 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"
  />
);

export default Button;


===== src/components/common/Card.tsx =====
import type { FC, ReactNode } from "react";

interface CardProps {
  children: ReactNode;
}

const Card: FC<CardProps> = ({ children }) => (
  <div className="p-4 border rounded-lg bg-white dark:bg-gray-800 shadow hover:shadow-lg transition-shadow mb-4">
    {children}
  </div>
);

export default Card;


===== src/components/common/Section.tsx =====
import type { FC, ReactNode } from "react";

interface SectionProps {
  title?: string;
  children: ReactNode;
}

const Section: FC<SectionProps> = ({ title, children }) => {
  return (
    <section className="mb-8">
      {title && <h2 className="text-2xl font-bold mb-4">{title}</h2>}
      {children}
    </section>
  );
};

export default Section;


===== src/data/skills.ts =====
export interface Skill {
  name: string;
  level: number; // 0~100
}

export const skills: Skill[] = [
  { name: "HTML", level: 90 },
  { name: "CSS", level: 85 },
  { name: "JavaScript", level: 80 },
  { name: "TypeScript", level: 75 },
  { name: "React", level: 85 },
  { name: "TailwindCSS", level: 70 },
];


===== src/index.css =====
@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *)); /* æ‰‹åŠ¨å¯ç”¨ dark variant */

/* åŸºç¡€æ ·å¼ï¼Œè®©Tailwindå¤„ç†ä¸»é¢˜åˆ‡æ¢ */
body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* src/index.css æœ«å°¾æ·»åŠ  */
.scroll-section {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.scroll-section.show {
  opacity: 1;
  transform: translateY(0);
}

===== src/lib/supabase.ts =====
import { createClient } from '@supabase/supabase-js';

// ä» Supabase é¡¹ç›®è®¾ç½®ä¸­å¤åˆ¶
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

if (!supabaseUrl || !supabaseAnonKey) {
    throw new Error('ç¼ºå°‘ Supabase ç¯å¢ƒå˜é‡');
}

export const supabase = createClient(supabaseUrl, supabaseAnonKey);

===== src/main.tsx =====
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./index.css";
import App from "./App.tsx";

createRoot(document.getElementById("root")!).render(
  <StrictMode>
    <App />
  </StrictMode>,
);


===== src/store/authStore.ts =====
import { create } from 'zustand';
import { persist, createJSONStorage } from 'zustand/middleware';
import { supabase } from '../lib/supabase';
import type { User } from '@supabase/supabase-js';

interface AuthState {
  // çŠ¶æ€
  user: User | null;
  isLoading: boolean;
  error: string | null;
  
  // æ–¹æ³•
  signInWithGitHub: () => Promise<void>;
  signOut: () => Promise<void>;
  initialize: () => Promise<void>;
  clearError: () => void;
}

export const useAuthStore = create<AuthState>()(
  persist(
    (set, _get) => ({
      // åˆå§‹çŠ¶æ€
      user: null,
      isLoading: true,
      error: null,

      // GitHub ç™»å½•
      signInWithGitHub: async () => {
        try {
          set({ isLoading: true, error: null });
          
          const { error } = await supabase.auth.signInWithOAuth({
            provider: 'github',
            options: {
              redirectTo: window.location.origin,
              scopes: 'read:user user:email'  // è¯·æ±‚æ›´å¤šæƒé™
            }
          });

          if (error) throw error;
          
        } catch (error: any) {
          set({ error: error.message });
        } finally {
          set({ isLoading: false });
        }
      },

      // é€€å‡ºç™»å½•
      signOut: async () => {
        try {
          set({ isLoading: true });
          await supabase.auth.signOut();
          set({ user: null });
        } catch (error: any) {
          set({ error: error.message });
        } finally {
          set({ isLoading: false });
        }
      },

      // åˆå§‹åŒ–ï¼šæ£€æŸ¥å½“å‰ç™»å½•çŠ¶æ€
      initialize: async () => {
        try {
          set({ isLoading: true });
          
          // è·å–å½“å‰ä¼šè¯
          const { data: { session } } = await supabase.auth.getSession();
          
          if (session?.user) {
            set({ user: session.user });
          }

        } catch (error: any) {
          set({ error: error.message });
        } finally {
          set({ isLoading: false });
        }
      },

      // æ¸…é™¤é”™è¯¯
      clearError: () => set({ error: null })
    }),
    {
      name: 'auth-storage', // localStorage çš„ key
      storage: createJSONStorage(() => localStorage),
      partialize: (state) => ({ user: state.user }) // åªæŒä¹…åŒ– user
    }
  )
);

===== src/store/likeStore.ts =====
import { create } from 'zustand';
import { supabase } from '../lib/supabase';
import { useAuthStore } from './authStore';

interface LikeState {
  likedMessages: Set<number>;
  loading: boolean;
  fetchUserLikes: () => Promise<void>;
  toggleLike: (messageId: number) => Promise<void>;
}

export const useLikeStore = create<LikeState>((set, get) => ({
  likedMessages: new Set(),
  loading: false,

  fetchUserLikes: async () => {
    const user = useAuthStore.getState().user;
    if (!user) return;

    try {
      set({ loading: true });
      const { data } = await supabase
        .from('message_likes')
        .select('message_id')
        .eq('user_id', user.id);

      if (data) {
        set({ likedMessages: new Set(data.map(like => like.message_id)) });
      }
    } catch (error) {
      console.error('Error fetching likes:', error);
    } finally {
      set({ loading: false });
    }
  },

  toggleLike: async (messageId: number) => {
    const user = useAuthStore.getState().user;
    if (!user) {
      alert('è¯·å…ˆç™»å½•åå†ç‚¹èµ');
      return;
    }

    const { likedMessages } = get();
    const isLiked = likedMessages.has(messageId);

    try {
      if (isLiked) {
        // å–æ¶ˆç‚¹èµ
        await supabase
          .from('message_likes')
          .delete()
          .eq('message_id', messageId)
          .eq('user_id', user.id);

        likedMessages.delete(messageId);
      } else {
        // æ·»åŠ ç‚¹èµ
        await supabase
          .from('message_likes')
          .insert({ message_id: messageId, user_id: user.id });

        likedMessages.add(messageId);
      }

      set({ likedMessages: new Set(likedMessages) });
    } catch (error) {
      console.error('Error toggling like:', error);
    }
  },
}));

===== src/types/index.ts =====
// å®šä¹‰æŠ€èƒ½ä¿¡æ¯
export interface Skill {
  name: string; // æŠ€èƒ½åç§°ï¼Œå­—ç¬¦ä¸²ç±»å‹
  level: "Beginner" | "Intermediate" | "Advanced"; // æŠ€èƒ½ç­‰çº§ï¼Œåªèƒ½æ˜¯è¿™ä¸‰ä¸ªå€¼ä¹‹ä¸€
}

// å®šä¹‰é¡¹ç›®ç»å†
export interface Project {
  name: string; // é¡¹ç›®åç§°
  description: string; // é¡¹ç›®æè¿°
  link?: string; // å¯é€‰ï¼Œé¡¹ç›®é“¾æ¥
  category?: string;    // æ–°å¢
  tags?: string[];      // æ–°å¢
}

// å®šä¹‰æ•™è‚²ç»å†
export interface Education {
  school: string; // å­¦æ ¡åç§°
  degree: string; // å­¦ä½
  startYear: number; // å…¥å­¦å¹´ä»½
  endYear: number; // æ¯•ä¸šå¹´ä»½
}

// å®šä¹‰è”ç³»æ–¹å¼
export interface ContactInfo {
  email: string; // å¿…å¡«é‚®ç®±
  phone?: string; // å¯é€‰ç”µè¯
  github?: string; // å¯é€‰ GitHub åœ°å€
  linkedin?: string; // å¯é€‰ LinkedIn åœ°å€
}

// å®šä¹‰ä¸ªäººç®€ä»‹ä¿¡æ¯
export interface AboutInfo {
  bio: string; // ç®€ä»‹æ–‡å­—
  avatar?: string; // å¯é€‰å¤´åƒ URL
}

// æ·»åŠ  Message ç±»å‹
export interface Message {
  id: number;
  name: string;
  content: string;
  created_at: string;
  avatar_url?: string;
  user_id?: string;
  likes_count?: number;
}

export interface MessageWithLike extends Message {
  liked_by_user?: boolean;
}

===== tailwind.config.js =====
/** @type {import('tailwindcss').Config} */
export default {
  darkMode: 'class', // âœ… ç¡®ä¿æ˜¯ class æ¨¡å¼
  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],
  theme: {
    extend: {
      colors: {
        // å¯ä»¥åœ¨è¿™é‡Œæ‰©å±•è‡ªå®šä¹‰é¢œè‰²
      },
    },
  },
  plugins: [],
};


===== vite.config.ts =====
// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src'),
    },
  },
});

